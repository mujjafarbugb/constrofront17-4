import{r as n,j as r,a as t,L as m,F as f,Q as x}from"./index.8d209275.js";import{H as C}from"./HomeBredCurbs.8e105916.js";import{P as q}from"./index.04dce87b.js";import{h as I}from"./house.9786a1f6.js";import{I as S,M as j}from"./index.0514ba4e.js";import{a}from"./axios.74c9240f.js";import"./index.esm.f6a38425.js";import"./iconBase.3b0c2950.js";const L=()=>{n.exports.useState("Cancel"),n.exports.useState("bg-black-300");const[i,u]=n.exports.useState([]),[g,v]=n.exports.useState([]),[d,h]=n.exports.useState(!1),b=localStorage.getItem("profile"),s=JSON.parse(b);console.log(17,s);const R=()=>{window.history.back()};n.exports.useEffect(()=>{a.get("https://constrobackend17-4.onrender.com/api/get_all_new_reciver").then(e=>{console.log(e.data.Result),u(e.data.Result)}).catch(e=>{console.log(e)}),a.get("https://constrobackend17-4.onrender.com/api/get_All_vendorBankReq").then(e=>{console.log(45,e.data.Result),v(e.data.Result)}).catch(e=>{console.log(e)})},[d]);const _=(e,c,o,N)=>{const p={providerId:s._id,ContractorPro_firmName:s.firmName,ContractorPro_firmRepresentative:s.firmRepresentative,ContractorPro_representativeDesignation:s.representativeDesignation,receiverId:e,clientRec_firmName:c,clientRec_firmRepresentative:o,clientRec_representativeDesignation:N,who_sendReq:"contractor_to_client"};console.log(85,p),a.post("https://constrobackend17-4.onrender.com/api/post_vendorBankReq",p).then(l=>{console.log(l.data),h(!d),x.success(l.data.message)}).catch(l=>{console.log(95,l)})},k=e=>(console.log(99,e),g.some(o=>o.receiverId===e&&o.providerId===(s==null?void 0:s._id)&&o.isAccepted===!1&&o.isActive===!0&&o.who_sendReq==="contractor_to_client")),w=e=>{const c={receiverId:e,providerId:s._id};a.post("https://constrobackend17-4.onrender.com/api/cancelVendorBankRequest",c).then(o=>{console.log(o.data),h(!d),x.success(o.data.message)}).catch(o=>{console.log(o)})};return r("div",{children:[t(C,{title:"All Clients "}),r("div",{className:"flex items-center text-slate-400 ",children:[r(m,{to:"",className:"flex items-center text-sm hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",onClick:R,children:[t(S,{className:"text-xl font-semibold"}),"Back"]}),t("span",{className:"mx-2",children:" / "}),r(m,{to:"/ContractorDash",className:"flex items-center text-sm  hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",children:[t(j,{className:"text-lg font-semibold"}),"Home"]})]}),i==null?void 0:i.map((e,c)=>t(f,{children:t("div",{class:" bg-white shadow rounded-lg w-full mt-3",children:r("div",{class:"latest_jobs flex flex-col md:flex-row items-center text-center md:text-left w-full md:w-auto hover:bg-black-50",children:[t("div",{class:" rounded-full md:mb-0 md:mr-4 p-2",children:t("img",{className:"h-[70px] w-[70px] rounded-full ",src:I,alt:""})}),r("div",{class:"flex-1 md:px-3 md:text-left",children:[t("h4",{className:"text-xl font-semibold text-color-white md:mt-0",children:e.firmName}),t("div",{class:" flex flex-col items-center md:flex-row md:items-center justify-center md:justify-start",children:r("span",{class:"card-subtitle text-slate-400 text-sm font-normal flex items-center md:mr-2",children:[t(q,{className:"text-2xl text-slate-500"}),r("span",{className:"text-lg",children:[" ","\xA0",e.firmRepresentative," |"," ",e.representativeDesignation]})]})})]}),t("div",{class:"flex justify-center mt-2",children:t(m,{to:`/viewProf/${e._id}`,class:"bg-[#00adee] hover:bg-[#6fcaeb] text-white font-bold px-3 py-2 rounded flex items-center",children:"View Profile"})}),t("div",{className:"flex justify-center mt-2 mx-3",children:k(e._id)?t(f,{children:t("button",{className:`text-white font-bold px-4 py-2 rounded flex items-center 
                    bg-danger`,onClick:o=>{w(e._id)},children:"Cancel"})}):t(f,{children:t("button",{className:`text-white font-bold px-4 py-2 rounded flex items-center 
                    bg-[#1fcfcd]`,onClick:o=>{_(e._id,e.firmName,e.firmRepresentative,e.representativeDesignation)},children:"+ Add"})})})]})})}))]})};export{L as default};
