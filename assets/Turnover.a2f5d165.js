import{r as o,Q as b,a as e,F as u,j as r,L as y}from"./index.8d209275.js";import"./index.esm.f6a38425.js";import{T as C}from"./index.144bf880.js";import{M as R,B as T}from"./Modal.451c7296.js";import{T as S}from"./Textinput.3d307643.js";import{a as h}from"./axios.74c9240f.js";import"./iconBase.3b0c2950.js";const k=()=>{const p=["Less Than 50L","50L-1CR","1CR-2CR","2CR-5CR","5CR-7.5CR","7.5CR-10CR","10CR-20CR","50CR-100CR","100CR-200CR","More Than 200CR"],[n,c]=o.exports.useState(!1),[d,x]=o.exports.useState([]),[a,s]=o.exports.useState({year:"",turnover:"",exactTurnover:""}),m=localStorage.getItem("user"),v=JSON.parse(m),f=localStorage.getItem("profile"),i=JSON.parse(f);console.log(17,i),o.exports.useEffect(()=>{h.get(`https://constrobackend17-4.onrender.com/api/get_service_provider_regid/${v.user._id}`).then(t=>{if(console.log(66,t),!t.data.Result)b.error(t.data.message);else{c(!0),console.log("Data Fetch",t.data.Result);const l=t.data.Result;console.log("Show Data",l.turnover),x(l.turnover)}}).catch(t=>{console.log(t)})},[n]);const g=()=>{const t={turnover:[...d,{...a}]};console.log(72,t),h.put(`https://constrobackend17-4.onrender.com/api/update_Service_Provider/${i._id}`,t).then(l=>{console.log("res",l)}).catch(l=>{console.log(l)}),c(!n)};return e(u,{children:r("div",{className:"shadow-md p-4",children:[r("div",{className:"flex justify-between items-center",children:[e("span",{className:"my-2 text-lg font-semibold text-slate-500",children:"Yearly Turnover"}),e("div",{children:e(R,{title:"",label:"Add Turnover + ",labelClass:"bg-[#00adee] hover:bg-[#6fcaeb] text-white",uncontrol:!0,footerContent:e(T,{text:"Add turnover",className:"w-full bg-[#00adee] hover:bg-[#6fcaeb] text-white",onClick:()=>{g()}}),children:r("div",{className:"text-base text-slate-600 dark:text-slate-300 mt-2 py-2",children:[r("div",{class:"input-group mt-2",children:[e("label",{for:"formFile",class:"form-label",children:"Select year"}),r("select",{class:"form-select text-sm py-3","aria-label":"Default select example",onChange:t=>{s({...a,year:t.target.value})},children:[e("option",{value:"1",selected:!0,children:"2023-2024"}),e("option",{value:"2022-2023",children:"2022-2023"}),e("option",{value:"2021-2022",children:"2021-2022"})]})]}),r("div",{class:"input-group mt-3",children:[e("label",{for:"formFile",class:"form-label",children:"Select turnover range"}),r("select",{class:"form-select text-sm py-3","aria-label":"Default select example",onChange:t=>{s({...a,turnover:t.target.value})},children:[e("option",{value:"1",selected:!0,children:"Less than 50L"}),e("option",{value:"",children:"Select"}),p.map((t,l)=>e("option",{value:t,children:t},l))]})]}),r("div",{class:"mb-2  mt-3",children:[e("label",{for:"formFile",class:"form-label",children:"Exact turnover"}),e(S,{type:"text",placeholder:"",onChange:t=>{s({...a,exactTurnover:t.target.value})}})]})]})})})]}),e("div",{class:"overflow-x-auto mt-3",children:r("table",{class:"table-auto w-full shadow-sm rounded-md",children:[e("thead",{class:"border border-collapse bg-[#00adee] text-white",children:r("tr",{className:" rounded-md",children:[e("th",{class:"px-4 py-2 text-center border",children:"Financial Year"}),e("th",{class:"px-4 py-2 text-center border",children:"Turnover Range"}),e("th",{class:"px-4 py-2 text-center border",children:"Exact Turnover"}),e("th",{class:"px-4 py-2 text-center border",children:"Action"})]})}),e("tbody",{children:d.map((t,l)=>e(u,{children:r("tr",{className:"hover:bg-[#f8f8f8] shadow-sm",children:[e("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:t.year}),e("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:t.turnover}),e("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:t.exactTurnover!=0?t.exactTurnover:"-"}),e("td",{class:"px-4 py-2 text-sm text-slate-500 flex justify-center",children:e(y,{to:"",children:e(C,{className:"text-3xl cursor-pointer hover:text-[#00adee]"})})})]})}))})]})})]})})};export{k as default};
